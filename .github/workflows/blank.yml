name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v1
    - name: install software
      run: |
        sudo apt-get install -y hub
        hub --version

        wget --quiet https://ziglang.org/builds/zig-linux-x86_64-0.4.0+94bbb46c.tar.xz
        tar Jxf zig-linux-*.tar.xz
        rm zig-linux-*.tar.xz
        mv zig-linux-* zig-linux
        ./zig-linux/zig version
    - name: test
      run: ./zig-linux/zig test src/main.zig
    - name: build
      run: ./zig-linux/zig build
    - name: hub test
      run: hub
